(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},26:function(e,t,n){e.exports=n(58)},32:function(e,t,n){},34:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},58:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(24),c=n.n(r),l=(n(32),n(3)),s=n(7),i=n(10),u=n(8),p=n(11),h=(n(34),n(13),n(9)),m=n.n(h),d=n(59),g=n(12),f=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={titleInput:"",descriptionInput:""},n.updateInput=function(e){n.setState(Object(g.a)({},e.target.id,e.target.value))},n.createANewProject=function(e){e.preventDefault();var t=n.state.titleInput,a=n.state.descriptionInput;m.a.post("".concat("https://coolboy55-to-do-list.herokuapp.com/api","/tasks/add-new"),{theTitle:t,theDescription:a},{withCredentials:!0}).then(function(e){console.log("success",e),n.props.letTheIndexComponentKnowThatWeAddedAProject()}).catch(function(e){console.log("error creating task",e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Add New Project"),o.a.createElement("form",{onSubmit:this.createANewProject},o.a.createElement("label",null,"Title"),o.a.createElement("input",{value:this.state.titleInput,id:"titleInput",onChange:this.updateInput}),o.a.createElement("label",null,"Description"),o.a.createElement("input",{value:this.state.descriptionInput,id:"descriptionInput",onChange:this.updateInput}),o.a.createElement("button",null,"Save")))}}]),t}(a.Component),v=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={allTheProjects:[]},n.fetchProjects=function(){m.a.get("".concat("https://coolboy55-to-do-list.herokuapp.com/api","/tasks")).then(function(e){n.setState({allTheProjects:e.data.reverse()})}).catch(function(e){})},n.showAllProjects=function(){if(n.state.allTheProjects&&n.props.currentUser)return n.state.allTheProjects.filter(function(e){return e.owner===n.props.currentUser._id}).map(function(e){return o.a.createElement("div",{key:e._id},o.a.createElement("h3",null,e.title),o.a.createElement("h6",null,e.description),o.a.createElement(d.a,{to:"/project/"+e._id},"See Details"))})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.fetchProjects()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Project Index"),o.a.createElement("div",{className:"list-of-projects-container"},this.showAllProjects()),o.a.createElement("div",{className:"add-new-component-container"},o.a.createElement(f,{letTheIndexComponentKnowThatWeAddedAProject:this.fetchProjects})))}}]),t}(a.Component),j=n(62),b=n(61),E=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={titleInput:"",descInput:"",editing:!1},n.updateInput=function(e){n.setState(Object(g.a)({},e.target.id,e.target.value))},n.editProject=function(e){e.preventDefault(),m.a.post("".concat("https://coolboy55-to-do-list.herokuapp.com/api","/tasks/edit/")+n.state.theActualProject._id,{theTitle:n.state.titleInput,theDescription:n.state.descInput}).then(function(){n.setState({editing:!1})}).catch(function(){})},n.toggleForm=function(){n.setState({editing:!0})},n.showProjectDetails=function(){if(n.state.theActualProject)return n.state.editing?o.a.createElement("form",{onSubmit:n.editProject},o.a.createElement("input",{className:"input",value:n.state.titleInput,onChange:n.updateInput,id:"titleInput"}),o.a.createElement("input",{className:"input",value:n.state.descInput,onChange:n.updateInput,id:"descInput"}),o.a.createElement("button",null,"submit changes")):o.a.createElement("div",null,o.a.createElement("span",null,n.state.titleInput),o.a.createElement("span",null,n.state.descInput),o.a.createElement("img",{onClick:n.toggleForm,className:"pen-pic",src:"https://us.123rf.com/450wm/jemastock/jemastock1707/jemastock170717063/82921914-stock-vector-school-pen-write-supply-accessory-icon-vector-illustration.jpg?ver=6"}))},n.deleteProject=function(){m.a.post("".concat("https://coolboy55-to-do-list.herokuapp.com/api","/tasks/delete/")+n.state.theActualProject._id,{}).then(function(){n.props.history.push("/project-index")}).catch(function(){})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;m.a.get("".concat("https://coolboy55-to-do-list.herokuapp.com/api","/task/details/")+t).then(function(t){console.log("------___---__-_-_--_-_-__-_-_-_-_-___-_-----",t),e.setState({theActualProject:t.data,titleInput:t.data.title,descInput:t.data.description})}).catch(function(){})}},{key:"render",value:function(){return console.log(this.props),console.log(this.state),o.a.createElement("div",null,o.a.createElement("h1",null," Project Details Page"),this.showProjectDetails(),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.deleteProject,className:"delete"},"Delete This Project")))}}]),t}(a.Component),I=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var n=m.a.create({baseURL:"https://coolboy55-to-do-list.herokuapp.com/api",withCredentials:!0});this.service=n},w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={usernameInput:"",passwordInput:""},n.service=new I,n.handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault(),n.service.signup(n.state.usernameInput,n.state.passwordInput).then(function(e){console.log("------------------------",e),n.props.logTheUserIntoAppComponent(e),n.setState({usernameInput:"",passwordInput:""}),n.props.history.push("/project-index")}).catch(function(e){console.log("sorry something went wrong",e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Username:"),o.a.createElement("input",{type:"text",name:"usernameInput",value:this.state.usernameInput,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("label",null,"Password:"),o.a.createElement("input",{name:"passwordInput",value:this.state.passwordInput,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("input",{type:"submit",value:"Signup"})),o.a.createElement("p",null,"Already have account?"))}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={usernameInput:"",passwordInput:""},n.userService=new I,n.handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault(),n.userService.login(n.state.usernameInput,n.state.passwordInput).then(function(e){n.setState({usernameInput:"",passwordInput:""}),n.props.logTheUserIntoAppComponent(e),n.props.history.push("/project-index")}).catch(function(e){console.log("sorry something went wrong",e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Username:"),o.a.createElement("input",{type:"text",name:"usernameInput",value:this.state.usernameInput,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("label",null,"Password:"),o.a.createElement("input",{name:"passwordInput",value:this.state.passwordInput,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component),O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loggedInUser:null},n.service=new I,n.logInTheUser=function(e){n.setState({loggedInUser:e})},n.showUser=function(){if(n.state.loggedInUser)return o.a.createElement("div",null,"Welcome, ",n.state.loggedInUser.username)},n.logout=function(){n.service.logout().then(function(){n.setState({loggedInUser:null})})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"fetchUser",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){console.log("catch getting hit"),e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return console.log(this.state),o.a.createElement("div",null,this.showUser(),o.a.createElement("h1",null,"Were Still Here"),o.a.createElement("nav",null,o.a.createElement(d.a,{to:"/project-index"}," View Projects"),o.a.createElement(d.a,{to:"/signup"}," Sign Up For Account"),o.a.createElement(d.a,{to:"/login"}," Login "),o.a.createElement("button",{onClick:this.logout},"Logout")),o.a.createElement(j.a,null,o.a.createElement(b.a,{path:"/project-index",render:function(t){return o.a.createElement(v,Object.assign({},t,{currentUser:e.state.loggedInUser}))}}),o.a.createElement(b.a,{path:"/project/:id",component:E}),o.a.createElement(b.a,{path:"/signup",render:function(t){return o.a.createElement(w,Object.assign({},t,{logTheUserIntoAppComponent:e.logInTheUser}))}}),o.a.createElement(b.a,{path:"/login",render:function(t){return o.a.createElement(y,Object.assign({},t,{logTheUserIntoAppComponent:e.logInTheUser}))}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n(60);c.a.render(o.a.createElement(k.a,null,o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.3b75904f.chunk.js.map